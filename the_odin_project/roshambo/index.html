<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Odin Project RoShamBo</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Oswald:700|Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

</head>

<body onload="playMatch()">
    <div id="select">
        <p class="top">Play Rock Paper Scissors against the computer</p>
        <p class="top">First to win 5 wins the match!</p>
        <p class="top">Click a button to begin the game</p>
        <button id="rock" class="btn"><i class="fas fa-hand-rock fa-9x"></i><br>Rock</button>
        <button id="paper" class="btn"><i class="fas fa-hand-paper fa-9x"></i><br>Paper</button>
        <button id="scissors" class="btn"><i class="fas fa-hand-scissors fa-9x"></i><br>Scissors</button>
    </div>
    <div id="game_result">
        <p id="result" class="hidden">Game Results Go Here</p>
    </div>
    <div id="match_score">
      <p id="hscore"class="you">0</p>
      <p class="score">Score</p>
      <p id="cscore" class="computer">0</p>
      <p class="you1">You</p>
      <p class="score1"></p>
      <p class="computer1">Computer</p>

    </div>

    <script>

      function playMatch() {
        document.getElementById("select").style.visibility = "visible";
        document.getElementById("result").style.visibility = "hidden";
        computerWinCount = 0;
        playerWinCount = 0;
        playerInput = "";
        document.getElementById("hscore").innerHTML = playerWinCount;
        document.getElementById("cscore").innerHTML = computerWinCount;

        input();
      }

        function input() {
            //document.getElementById("result").innerHTML = "";
            var btn = document.querySelector('#rock');
            btn.onclick = () => {
                playerInput = "rock";
                playGame()
            };
            var btn = document.querySelector('#paper');
            btn.onclick = () => {
                playerInput = "paper";
                playGame()
            };
            var btn = document.querySelector('#scissors');
            btn.onclick = () => {
                playerInput = "scissors";
                playGame()
            };


        }

        function playGame() {

            outCome = Math.floor((Math.random() * 3) + 1);

            if (outCome == 1) {
                document.getElementById("result").style.visibility = "visible";
                document.getElementById("result").style.background = "yellow";
                document.getElementById("result").innerHTML = "It's a Tie!  Press a Button to Play again!";
                input();
            }
            if (outCome == 2) {

               // document.getElementById("result").classList.toggle("hidden","visible");
                document.getElementById("result").style.visibility = "visible";
                document.getElementById("result").style.background = "red";
                document.getElementById("result").innerHTML = "Sorry!  I win!  Press a Button to Play again!";


                computerWinCount++;

            }
            if (outCome == 3) {
                document.getElementById("result").style.visibility = "visible";
                document.getElementById("result").style.background = "green";
                document.getElementById("result").innerHTML = "You Win!  Press a Button to Play again!";
                playerWinCount++;
            }
            document.getElementById("hscore").innerHTML = playerWinCount;
            document.getElementById("cscore").innerHTML = computerWinCount;


            if (playerWinCount > 4 || computerWinCount > 4) {

                matchOver();

            } else {

                input();
            }
        }

        function matchOver() {
            document.getElementById("select").style.visibility = "hidden";
            if (playerWinCount > 4) {
                document.getElementById("result").style.background = "green";
                document.getElementById("result").innerHTML = "You won the match! Click Here to Play Again!";

            } else {
                document.getElementById("result").style.background = "red";
                document.getElementById("result").innerHTML = "You lost the Match! Click Here to Play Again!";
            }
            result.onclick = () => {
                playMatch();
            };
        }



    </script>
</body>

</html>
